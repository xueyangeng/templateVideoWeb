(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[7],{155:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"q",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return g})),n.d(e,"o",(function(){return h})),n.d(e,"k",(function(){return v})),n.d(e,"i",(function(){return w})),n.d(e,"j",(function(){return b})),n.d(e,"p",(function(){return M})),n.d(e,"n",(function(){return x})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return j}));var r=n(178),o=n.n(r),i=n(49),a={video:[".3gp",".avi",".mp4",".wmv",".mkv",".mov",".flv",".asf",".f4v",".mpeg",".mpg",".ts",".mts",".wmv",".rm",".rmvb",".webm",".m4v"],img:[".jpg",".jpeg",".png",".gif",".heic",".eps",".bmp",".raw",".tif",".dng",".cr3",".nef",".cr2",".crw"],audio:[".mp3",".wma",".wav",".m4a"],xls:[".xls",".xlsx"],doc:[".doc",".docx"],ppt:[".ppt",".pptx"],zip:[".zip",".rar"],txt:[".txt"],pdf:[".pdf"],apk:[".apk"]},u={img:1,video:2,audio:5,xls:6,doc:6,ppt:6,pdf:6,txt:6,file:8};function c(t){var e="file";return t&&Object.keys(a).forEach((function(n){a[n].map((function(r){r.includes(t.toLowerCase())&&(e=n)}))})),e}var s=function(t,e){e||(e="yyyy-MM-dd hh:mm");var n=new Date(t);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var o in r)if(new RegExp("(".concat(o,")")).test(e)){var i=r[o]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:("00"+i).substr(i.length))}return e};function d(t){for(var e=(t=new Uint8Array(t)).byteLength,n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],r="",o=0;e-o>=3;o+=3){var i=t[o],a=t[o+1],u=t[o+2];r+=n[i>>>2]+n[(3&i)<<4|a>>>4]+n[(15&a)<<2|u>>>6]+n[63&u]}var c=e-o;if(1===c)r+=n[(s=t[o])>>>2]+n[(3&s)<<4]+"==";else if(2===c){var s=t[o],d=t[o+1];r+=n[s>>>2]+n[(3&s)<<4|d>>>4]+n[(15&d)<<2]+"="}return r}function f(t){var e=t.split(":");return 60*Number(e[0])*60+60*Number(e[1])+Number(e[2])}function p(t){return new Promise((function(e){var n=0,r=new FileReader,i=new o.a.ArrayBuffer,a=Math.ceil(t.size/2097152),u=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;r.onload=function(t){if(i.append(t.target.result),++n<a)c();else{var r=i.end();i.destroy(),e(r)}},r.onerror=function(){e()};var c=function(){var e=2097152*n,o=e+2097152>=t.size?t.size:e+2097152;r.readAsArrayBuffer(u.call(t,e,o))};c()}))}function l(t,e){if(t){var n="",r=(t=(t=t.split("?"))[1]||"").toLowerCase();e=e.toLowerCase();var o=r.indexOf(e+"="),i=r.indexOf(e+"#");if(o>=0){var a=t.substr(o+e.length+1);n=a=(a=(a=a.split("?")[0]).split("&")[0]).split("#")[0]}else if(i>=0){var u=t.substr(i+e.length+1);n=u=(u=(u=u.split("?")[0]).split("&")[0]).split("#")[0]}return n}}function m(t){var e=document.cookie,n=e.indexOf(t);if(-1!=n){n=n+t.length+1;var r=e.indexOf(";",n);-1==r&&(r=e.length);var o=unescape(e.substring(n,r))}return o}function g(t){return 0===t.indexOf("blob:")?"":new Promise((function(e,n){for(var r=t.split(","),o=r[0].match(/:(.*?);/)[1],i=atob(r[1]),a=i.length,u=new Uint8Array(a);a--;)u[a]=i.charCodeAt(a);e(new Blob([u],{type:o}))}))}function h(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.readAsDataURL(t)}))}function v(t){return t>=0x4000000000000?1*(t/0x4000000000000).toFixed(2)+"PB":t>=1099511627776?1*(t/1099511627776).toFixed(2)+"TB":t>=1073741824?1*(t/1073741824).toFixed(2)+"GB":t>=1048576?1*(t/1048576).toFixed(2)+"MB":t>=1024?1*(t/1024).toFixed(2)+"KB":t+"B"}function w(t){if(isNaN(t)||!t)return"00:00:00";var e=Math.round(t%86400),n="",r=Math.floor(e/60/60),o=Math.floor(e/60)%60,i=Math.floor(e)%60;return n+=r>9?r:"0"+r,n+=":",n+=o>9?o:"0"+o,n+=":",n+=i>9?i:"0"+i}function b(t){if(isNaN(t)||t<0)return"00:00";var e="",n=Math.floor(t/60),r=Math.floor(t%60);return e+=n>9?n:"0"+n,e+=":",e+=r>9?r:"0"+r}var M=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout((function(){t("goOn",+new Date,e)}),1e3/60)};function x(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function y(t,e){var n={};return t.forEach((function(t){n[t.pid]||(n[t.pid]=[]),n[t.pid].push({value:t.id,title:t.name})})),function t(e,n){if(!e[n])return;var r=[];return e[n].forEach((function(n){n.children=t(e,n.value),r.push(n)})),r}(n,e)}function j(){i.a.set("signature");var t=i.a.get("host"),e=i.a.get("localUrl");window.open("".concat(t,"/?redirect=").concat(encodeURIComponent(e)),"_self")}},158:function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return h})),n.d(e,"n",(function(){return v})),n.d(e,"h",(function(){return w})),n.d(e,"o",(function(){return b})),n.d(e,"j",(function(){return M})),n.d(e,"l",(function(){return x})),n.d(e,"a",(function(){return y})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return k})),n.d(e,"e",(function(){return E})),n.d(e,"p",(function(){return F})),n.d(e,"d",(function(){return O})),n.d(e,"m",(function(){return R})),n.d(e,"i",(function(){return A})),n.d(e,"k",(function(){return B}));var r=n(22),o=n(177),i=n.n(o),a=n(102),u=n(371),c=n(49),s=n(155),d="",f=i.a.create({baseURL:c.a.get("scope"),timeout:6e4});f.interceptors.request.use((function(t){var e=c.a.get("signature");return e&&(t.headers.token=e),d=t.auto,"get"==t.method.toLowerCase()&&(t.params=Object(r.a)(Object(r.a)({},t.params),{},{_t:+new Date})),t}),(function(t){return console.log(t),Promise.reject(t)})),f.interceptors.response.use((function(t){var e=t.data;return 0!==e.code?(401==e.code?Object(s.m)():"infoMessage"===d&&a.b.warning(e.msg||"\u83b7\u53d6\u5931\u8d25"),Promise.reject(e.msg||"Error")):e.data?e.data:e}),(function(t){return"infoMessage"===d&&u.a.warning({title:"\u9519\u8bef\u4fe1\u606f",content:t,style:{top:200},cancelText:""}),console.log(t),Promise.reject(t)}));var p=f,l="https://aibrain-test.pdnews.cn",m="";function g(t){return p({url:"/api/media/build",method:"post",auto:"infoMessage",data:t})}function h(t){return p({url:"/api/config/create?ids=".concat(t),method:"post",auto:"infoMessage"})}function v(t){return p({url:"/api/media/upload",method:"post",auto:"infoMessage",data:t})}function w(t){return p({url:"/api/config/get?id=".concat(t),method:"GET",auto:"infoMessage"})}function b(t){return p({url:"/api/config/save",method:"post",data:t,auto:"infoMessage"})}function M(t){return p({url:"/api/media/list",method:"post",data:t,auto:"infoMessage"})}function x(t){return p({url:"".concat(l,"/cms/imedia/adapter/cardSearch"),method:"post",data:t,auto:"infoMessage"})}function y(){return p({url:"".concat(l,"/cms/bucket"),method:"GET",auto:"infoMessage"})}function j(t){return p({url:"".concat(l,"/cms/imedia/adapter/md5/check?md5=")+t,method:"GET",auto:"infoMessage"})}function k(t){return p({url:"".concat(l,"/cms/sts?resource=")+t,method:"GET",auto:"infoMessage"})}function E(t){return p({url:"".concat(l,"/cms/imedia/adapter/directUpload"),method:"post",data:t,auto:"infoMessage"})}function F(t){return p({url:"/api/media/save_head_config",method:"post",data:t,auto:"infoMessage"})}function O(t){return p({url:"/api/media/del_media",method:"post",data:t,auto:"infoMessage"})}function R(t){return p({url:"https://aibrain-test.pdnews.cn/connect/sms/login",method:"post",data:t,auto:"infoMessage"})}function A(t){return p({url:"".concat(l,"/cms/imedia/adapter/dirList"),method:"post",data:t,auto:"infoMessage"})}function B(t){return p({url:"".concat(l,"/api/cloud/aibrain/front/userbase/info"),method:"post",data:t,auto:"infoMessage"})}l="https://aibrain-test.pdnews.cn",m="/apiservice/",c.a.set("host",l),c.a.set("scope",m)},362:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(256),a=n.n(i),u=n(155),c=n(49),s=n(158),d=a()({displayName:"Enter",componentWillMount:function(){var t=this,e=Object(u.e)("Creative-Brain-Token");c.a.set("signature",e);var n=window.location.href,r=Object(u.h)(n,"materialIds")||"",o=Object(u.h)(n,"projectId")||"";e?o?this.props.history.push("/videoTemplate#".concat(o)):Object(s.c)(r).then((function(e){var n=e||"";t.props.history.push("/videoTemplate#".concat(n))})).catch((function(t){})):(c.a.set("localUrl",window.location.href),Object(u.m)())},render:function(){return o.a.createElement("div",null,"\u6b63\u5728\u8fdb\u5165\u89c6\u9891\u6a21\u7248\u5de5\u5177\u2026\u2026")}});e.default=d}}]);
//# sourceMappingURL=7.e63be85b.chunk.js.map